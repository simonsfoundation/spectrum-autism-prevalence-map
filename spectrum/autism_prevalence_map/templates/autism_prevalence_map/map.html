{% extends 'autism_prevalence_map/base.html' %} 

{% load static %} 

{% block page_name %}map{% endblock %}

{% block body_block %}
<!-- Main Container
–––––––––––––––––––––––––––––––––––––––––––––––––– -->
<div class='relative mx-auto max-w-container'>
    {% include 'autism_prevalence_map/action_buttons.html' with template='map' %}

    <!-- Map div
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <div id='map' class='h-map w-map lg:h-map-lg lg:w-map-lg xl:h-map-xl xl:w-map-xl mb-6'></div>
    <!-- Timeline div
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <div class='h-timeline bg-dark-gray border-0.5 border-dark-gray2 rounded-md pl-4 pb-1.5'>
        <div class='row'>
            <div id='timeline-toggle' class='inline-block align-top mr-16 pt-10.5'>
                <h2 class='mb-2.75 font-serif text-lg text-tan'>Timeline of studies</h2>
                <span class='timeline-switch relative'>
                    <input type='checkbox' id='timeline-switch' name='timeline-switch' {% if timeline_type == 'studied' %}checked{% endif %}>
                    <label for='timeline-switch' class='font-serif text-sm3 text-tan'>Year published</label>
                    <span class='timeline-switch-knob bg-med-navy'></span>
                </span>
                <span class='font-serif text-sm3 text-tan'>Year(s) studied</span>
                {% if last_updated_on != '' %}
                    <div class='pt-6 font-serif text-sm2 text-tan italic'>Data last updated on {{last_updated_on}}</div>
                {% endif %}
            </div>
            <div class='relative inline-block align-top'>
                <span class='absolute top-5 font-serif text-sm2 text-tan italic'>*Drag the cursor horizontally across the timeline to view data <img src="{% static 'autism_prevalence_map/img/icon-question.svg' %}" alt='question icon' class='inline-block pl-1.75 translate-y-neg2 cursor-pointer' id='help'></span>
                <div id='timeline' class='timeline block h-brush w-timeline lg:w-timeline-lg xl:w-timeline-xl'></div>
            </div>
        </div>
    </div>
</div>

<!-- Zoom buttons
–––––––––––––––––––––––––––––––––––––––––––––––––– -->
<!--
<div id='zoom-buttons' class='zoom-buttons btn-group-vertical'>
    <button type='button' id='zoom-in' class='btn zoom-button'><i class='fas fa-plus'></i></button>
    <button type='button' id='zoom-out' class='btn zoom-button'><i class='fas fa-minus'></i></button>
</div>
-->

<!-- More Information Card
–––––––––––––––––––––––––––––––––––––––––––––––––– -->
<!--
<div id='more-information-card' class='more-information-card col-lg-3 col-md-5 col-sm-6'>
    <button type='button' class='close card-close' id='card-close' aria-label='Close'>
        <span aria-hidden='true'>&times;</span>
    </button>
    <div class='card card-style'>
        <div class='card-header' id='card-title'>
        </div>
        <div class='card-body'>
            <h6 class='card-subtitle font-weight-bold'>Country</h6>
            <p class='card-text' id='card-country'></p>
            <h6 class='card-subtitle font-weight-bold'>Area</h6>
            <p class='card-text' id='card-area'></p>
            <h6 class='card-subtitle font-weight-bold'>Sample size</h6>
            <p class='card-text' id='card-samplesize'></p>
            <h6 class='card-subtitle font-weight-bold'>Age (years)</h6>
            <p class='card-text' id='card-age'></p>
            <h6 class='card-subtitle font-weight-bold'>Diagnostic criteria</h6>
            <p class='card-text' id='card-diagnosticcriteria'></p>
            <h6 class='card-subtitle font-weight-bold'>Diagnostic tools</h6>
            <p class='card-text' id='card-diagnostictools'></p>
            <h6 class='card-subtitle font-weight-bold'>Percent w/ average IQ</h6>
            <p class='card-text' id='card-percentwaverageiq'></p>
            <h6 class='card-subtitle font-weight-bold'>Sex ratio (M:F)</h6>
            <p class='card-text' id='card-sexratiomf'></p>
            <h6 class='card-subtitle font-weight-bold'>Prevalence (per 10,000)</h6>
            <p class='card-text' id='card-prevalenceper10000'></p>
            <h6 class='card-subtitle font-weight-bold'>95% Confidence interval</h6>
            <p class='card-text' id='card-confidenceinterval'></p>
            <h6 class='card-subtitle font-weight-bold'>Year(s) studied</h6>
            <p class='card-text' id='card-yearsstudied'></p>
            <h6 class='card-subtitle font-weight-bold'>Category</h6>
            <p class='card-text' id='card-categoryadpddorasd'></p>
            <p class='card-text' id='card-links'></p>
        </div>

    </div>
</div>
-->
{% endblock %}

{% block modal_block %} 
{% endblock %} 

{% block js_block %}
<script>
    let min_yearpublished = '{{ min_yearpublished }}';
    let max_yearpublished = '{{ max_yearpublished }}';
    let yearsstudied_number_min = '{{ yearsstudied_number_min }}';
    let yearsstudied_number_max = '{{ yearsstudied_number_max }}';
    let min_samplesize = '{{ min_samplesize }}';
    let max_samplesize = '{{ max_samplesize }}';
    let min_prevalenceper10000 = '{{ min_prevalenceper10000 }}';
    let max_prevalenceper10000 = '{{ max_prevalenceper10000 }}';
    let meanincomeofparticipants = '{{ meanincomeofparticipants }}';
    let educationlevelofparticipants = '{{ educationlevelofparticipants }}';
    let studytype = '{{ studytype }}';
    let keyword = '{{ keyword }}';
    let timeline_type = '{{ timeline_type }}';
    let income = '{{ meanincome }}';
    let education = '{{ education }}';
    let country = '{{ country }}';
    let continent = '{{ continent }}';
    const world_atlas = "{% static 'autism_prevalence_map/vendor/data/110m.json' %}";
</script>
{% endblock %}
